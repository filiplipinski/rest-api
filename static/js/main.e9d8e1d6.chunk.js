(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,function(t,e){t.exports="data:image/jpeg;base64,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"},function(t,e,a){t.exports=a(23)},,,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var A=a(0),n=a.n(A),r=a(8),s=a.n(r),i=(a(18),a(6)),o=a(1),c=a(2),l=a(4),u=a(3),m=a(5),h=a(9),d=a.n(h),p=(a(19),function(t){function e(){var t,a;Object(o.a)(this,e);for(var A=arguments.length,n=new Array(A),r=0;r<A;r++)n[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(n)))).state={items:[],hasMore:!0,howMuch:0},a.handleClick=function(t){a.props.fetchData("/api/users/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}})},a.fetchMoreData=function(){a.state.items.length>=a.state.howMuch?a.setState({hasMore:!1}):setTimeout(function(){a.setState({items:a.state.items.concat(Array.from({length:5}))})},500)},a}return Object(m.a)(e,t),Object(c.a)(e,[{key:"componentDidUpdate",value:function(){this.state.howMuch!==this.props.users.length&&this.setState({howMuch:this.props.users.length,items:Array.from({length:5}),hasMore:!0})}},{key:"render",value:function(){var t=this,e=this.props.users.map(function(e){return n.a.createElement("div",{key:e.id,className:"user"},n.a.createElement("button",{onClick:function(){return t.handleClick(e.id)},className:"delete"},"X"),n.a.createElement("img",{src:e.avatar,alt:"avatar"}),n.a.createElement("p",{className:"id"},"ID: ",e.id),n.a.createElement("p",null,e.first_name," ",e.last_name))}).reverse();return n.a.createElement("div",{className:"users"},n.a.createElement("h2",null,"Lista u\u017cytkownik\xf3w (",this.props.users.length,")"),this.props.firstFetch&&n.a.createElement("p",{className:"message"},"Trwa pobieranie listy u\u017cytkownik\xf3w!"),n.a.createElement(d.a,{dataLength:this.state.items.length,next:this.fetchMoreData,hasMore:this.state.hasMore,loader:n.a.createElement("h4",null,"\u0141adowanie..."),endMessage:n.a.createElement("p",{style:{textAlign:"center"}},n.a.createElement("b",null,"Wy\u015bwietli\u0142e\u015b wszystkich u\u017cytkownik\xf3w"))},e.length>0?e.slice(0,this.state.items.length):n.a.createElement("p",{className:"message"},"Brak uzytkownik\xf3w!")))}}]),e}(A.Component)),E=a(10),f=(a(20),function(t){function e(){var t,a;Object(o.a)(this,e);for(var A=arguments.length,n=new Array(A),r=0;r<A;r++)n[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(n)))).state={first_name:"",last_name:"",avatar:"",id:""},a.handleChange=function(t){a.setState(Object(E.a)({},t.target.name,t.target.value))},a.handleSubmit=function(t){t.preventDefault();var e=a.state,A=e.first_name,n=e.last_name,r=e.avatar;if(""!==a.state.first_name&&""!==a.state.last_name){var s={method:"POST",body:JSON.stringify({first_name:A,last_name:n,avatar:r}),headers:{"Content-Type":"application/json"}};a.props.fetchData("/api/users",s),a.setState({first_name:"",last_name:"",avatar:""})}else alert("Podaj imi\u0119 i nazwisko ! :)")},a.handleUpdate=function(t){var e=a.state,A=e.first_name,n=e.last_name,r=e.avatar,s=e.id;if(t.preventDefault(),""===s||""===A&&""===n&&""===r)alert("ID u\u017cytkownika kt\xf3rego chcesz aktualizowa\u0107 oraz dane kt\xf3re chcesz podmieni\u0107! :)");else{var i={method:"PATCH",body:JSON.stringify(a.state),headers:{"Content-Type":"application/json"}};a.props.fetchData("/api/users/".concat(s),i),a.setState({first_name:"",last_name:"",avatar:"",id:""})}},a}return Object(m.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this.state,e=t.first_name,a=t.last_name,A=t.avatar,r=t.id;return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"addUser"},n.a.createElement("h2",null,"Dodaj u\u017cytkownika"),n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("label",{htmlFor:"first_name"},"Podaj imi\u0119 i nazwisko i ",n.a.createElement("span",null,"opcjonalnie")," adres URL awatara:"),n.a.createElement("br",null),n.a.createElement("input",{onChange:this.handleChange,value:e,name:"first_name",type:"text",placeholder:"Imi\u0119"}),n.a.createElement("input",{onChange:this.handleChange,value:a,name:"last_name",type:"text",placeholder:"Nazwisko"}),n.a.createElement("input",{onChange:this.handleChange,value:A,name:"avatar",id:"url",type:"url",placeholder:"Adres URL (opcjonalnie)"}),n.a.createElement("input",{type:"submit",value:"Dodaj U\u017cytkownika",className:"btn"}))),n.a.createElement("div",{className:"updateUser"},n.a.createElement("h2",null,"Aktualizuj u\u017cytkownika"),n.a.createElement("form",{onSubmit:this.handleUpdate},n.a.createElement("label",{htmlFor:"id"},"Podaj ID u\u017cytkownika, kt\xf3rego chcesz aktualizowa\u0107 ",n.a.createElement("span",null,"oraz dane")," (w formularzu po lewej) kt\xf3re chcesz zamieni\u0107:"),n.a.createElement("input",{onChange:this.handleChange,value:r,name:"id",type:"number",placeholder:"Podaj ID"}),n.a.createElement("input",{type:"submit",value:"Aktualizuj u\u017cytkownika",className:"btn"}))))}}]),e}(A.Component)),B=(a(21),a(22),a(11)),w=a.n(B),k="https://reqres.in",Q=function(t){function e(){var t,a;Object(o.a)(this,e);for(var A=arguments.length,n=new Array(A),r=0;r<A;r++)n[r]=arguments[r];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(n)))).state={users:[],err:!1,firstFetch:!0},a.fetchData=function(t,e){fetch(k+t,e).then(function(t){if(204===t.status)return t.url.match(/\d/g).join("");if(t.ok)return t.json();throw Error("Error ".concat(t.status,": connection failed"))}).then(function(t){console.log(t),a.setData(t,e.method)}).catch(function(t){console.log(t),a.setState({err:!0})})},a.setData=function(t){switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET"){case"GET":a.setState({users:t.data,err:!1,firstFetch:!1});break;case"POST":void 0!==t.avatar&&""!==t.avatar||(t.avatar=w.a);var e={id:Number(t.id),first_name:t.first_name,last_name:t.last_name,avatar:t.avatar};a.setState(function(t){return{users:[].concat(Object(i.a)(t.users),[e]),err:!1}});break;case"PATCH":var A=!0,n=a.state.users.map(function(e){return e.id===Number(t.id)&&(A=!1,""!==t.first_name&&(e.first_name=t.first_name),""!==t.last_name&&(e.last_name=t.last_name),""!==t.avatar&&(e.avatar=t.avatar)),e});A?alert("Nie ma u\u017cytkownika o takim ID"):a.setState({users:n,err:!1});break;case"DELETE":var r=Object(i.a)(a.state.users),s=r.findIndex(function(e){return e.id===Number(t)});r.splice(s,1),a.setState({users:r,err:!1});break;default:new Error("switch default error")}},a}return Object(m.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.fetchData("/api/users?per_page=12",{method:"GET"})}},{key:"render",value:function(){var t=this.state,e=t.users,a=t.err,A=t.firstFetch;return n.a.createElement("div",{className:"app"},n.a.createElement("h1",null,"Zarz\u0105dzanie u\u017cytkownikami"),n.a.createElement(f,{fetchData:this.fetchData}),a?n.a.createElement("p",null,"Nie uda\u0142o si\u0119 wy\u015bwietli\u0107 u\u017cytkownik\xf3w"):n.a.createElement(p,{users:e,fetchData:this.fetchData,firstFetch:A}),n.a.createElement("footer",null,"Filip Lipi\u0144ski"))}}]),e}(A.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}],[[12,1,2]]]);
//# sourceMappingURL=main.e9d8e1d6.chunk.js.map